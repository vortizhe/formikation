{"version":3,"sources":["formikation.js"],"names":["formikation","dat","els","defaults","mapClass","mapStyle","init","params","document","body","style","maxHeight","this","$","extend","each","idx","is","processRadioCheck","processSelects","processInputFile","el","$el","$label","closest","addClass","attr","on","prop","find","removeClass","is_disabled","trigger","selectInnerSpan","selectSpan","prefix","after","append","changed","updateSelectWH","getClass","e","hasClass","which","blur","focus","not","length","InstallTrigger","stopPropagation","one","target","get","inArray","hover","$div","text","fn","val","replace","prev","html","wrap","parent","prepend","sel","$sel","$spa","next","css","display","w","parseInt","outerWidth","h","outerHeight","-webkit-appearance","width","height","position","opacity","fontSize","suffix","currentSelected","selectSpanInner","children","setTimeout","off","$target","jQuery"],"mappings":"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","file":"formikation.js","sourcesContent":["/*!\n * Formikation 0.2.3\n * Formikation is a simple jQuery plugin to beautify form inputs with some css.\n * \n * https://github.com/vortizhe/formikation\n * \n * Copyright 2016, Victor Ortiz. Licensed under MIT.\n * \n * Released on: February 28, 2016\n */\n  \nformikation = {\n\n  // Internal variables / DOM caching / etc.\n  dat: {\n    els: null // elements\n  },\n\n  // Default settings / params\n  defaults: {\n    mapClass: true,\n    mapStyle: true\n  },\n\n  // Aquí se inicializa el tema de verdad\n  init: function(params) {\n\n    // filter out <= IE6\n    if (typeof document.body.style.maxHeight === 'undefined') {\n      return this;\n    }\n\n    // Merge the params to default\n    this.defaults = $.extend(this.defaults, params);\n\n    // Process elements in collection\n    this.dat.els.each( function( idx ) {\n      // Check / radio\n      if ($(this).is(':checkbox, :radio')) {\n        formikation.processRadioCheck(this);\n      // Select\n      } else if ($(this).is('select')) {\n        formikation.processSelects(this);\n      // File input\n      } else if ($(this).is('input:file')) {\n        formikation.processInputFile(this);\n      // Nor to be processed\n      } else {\n        // Do nothing?\n      }\n    });\n  },\n\n  // Aquí se procesan los checks\n  processRadioCheck: function(el) {\n    var\n      $el = $(el),\n      $label = $el.closest('label');\n\n    // Add class with sprite\n    if ($el.is(':checkbox')) {\n      $label.addClass('fk-check');\n    } else {\n      $label.addClass('fk-radio');\n    }\n    if (this.defaults.mapClass) {\n      $label.addClass($el.attr('class'));\n    }\n    if (this.defaults.mapStyle) {\n      $label.attr('style', $el.attr('style'));\n    }\n\n    $el.on('formikation.update', function () {\n\n      if ($el.prop('checked')) {\n        $el.closest('form').find(':radio[name=\"'+$el.attr('name')+'\"]').closest('label').removeClass('checked');\n        $label.addClass('checked');\n      } else {\n        $label.removeClass('checked');\n      }\n\n      formikation.is_disabled($el, $label);\n    });\n\n\n    $el.on('click, change', function() {\n      $el.trigger('formikation.update');\n    });\n\n    $el.trigger('formikation.update');\n  },\n\n  // Process selects\n  processSelects: function(el) {\n    var\n      $el = $(el),\n      selectInnerSpan = $('<span />').addClass('fk-select-label'),\n      selectSpan = $('<span />'),\n      prefix = 'fk-select';\n\n    $el.after(selectSpan.append(selectInnerSpan));\n\n    selectSpan.addClass(prefix);\n\n    if (this.defaults.mapClass) {\n      selectSpan.addClass($el.attr('class'));\n    }\n    if (this.defaults.mapStyle) {\n      selectSpan.attr('style', $el.attr('style'));\n    }\n\n    $el.addClass('has-fk-select')\n       .on('formikation.update', function () {\n         formikation.changed($el,selectSpan);\n         formikation.updateSelectWH($el);\n         formikation.is_disabled($el, selectSpan);\n       })\n       .on('change', function () {\n          selectSpan.addClass(formikation.getClass($el, 'Changed'));\n          $el.trigger('formikation.update');\n       })\n       .on('keyup', function (e) {\n         if(!selectSpan.hasClass(formikation.getClass($el, 'Open'))){\n           $el.blur();\n           $el.focus();\n         } else{\n           if(e.which==13||e.which==27){\n             formikation.changed($el,selectSpan);\n           }\n         }\n       })\n       .on('mousedown', function (e) {\n         selectSpan.removeClass(formikation.getClass($el, 'Changed'));\n       })\n       .on('mouseup', function (e) {\n         if( !selectSpan.hasClass(formikation.getClass($el, 'Open'))){\n           // if FF and there are other selects open, just apply focus\n           if($('.'+formikation.getClass($el, 'Open')).not(selectSpan).length>0 && typeof InstallTrigger !== 'undefined'){\n             $el.focus();\n           }else{\n             selectSpan.addClass(formikation.getClass($el, 'Open'));\n             e.stopPropagation();\n             $(document).one('mouseup.'+formikation.getClass($el, 'Open'), function (e) {\n               if( e.target != $el.get(0) && $.inArray(e.target,$el.find('*').get()) < 0 ){\n                 $el.blur();\n               }else{\n                 formikation.changed($el,selectSpan);\n               }\n             });\n           }\n         }\n       })\n       .focus(function () {\n         selectSpan.removeClass(formikation.getClass($el, '-changed')).addClass(formikation.getClass($el, '-focus'));\n       })\n       .blur(function () {\n         selectSpan.removeClass(formikation.getClass($el, '-focus')+' '+formikation.getClass($el, '-open'));\n       })\n       .hover(function () {\n         selectSpan.addClass(formikation.getClass($el, '-hover'));\n       }, function () {\n         selectSpan.removeClass(formikation.getClass($el, '-hover'));\n       })\n       .trigger('formikation.update');\n  },\n\n  // Process input file\n  processInputFile: function(el) {\n    var $div = $('<div class=\"fk-file-input\">'),\n        $el = $(el),\n        text = $el.attr('data-text');\n    $el.on('change', function(e) {\n      // e.preventDefault();\n      var fn = $el.val().replace(/C:\\\\fakepath\\\\/i, '');\n      if (!fn) {\n        fn = text;\n      }\n      $el.prev('p').html(fn);\n    });\n    formikation.is_disabled($el, $div);\n    $el.wrap($div.attr('data-text', text)).parent().prepend('<p>' + text + '</p>');\n  },\n\n  // Updates select width to match span\n  updateSelectWH: function(sel) {\n    var\n      $sel = $(sel),\n      $spa = $sel.next('span');\n\n    // Set to inline-block before calculating outerHeight\n    $spa.css({\n      display: 'inline-block'\n    });\n\n    var\n      w = parseInt($spa.outerWidth(), 10),\n      h = parseInt($spa.outerHeight(), 10);\n\n    $sel.css({\n      '-webkit-appearance': 'menulist-button',\n      width: w,\n      height: h,\n      position: 'absolute',\n      opacity: 0,\n      fontSize: $spa.css('font-size')\n    });\n  },\n\n  // HELPERS FUNCTIONS UTILITIES ================\n  // Returns class depending on type adding suffix\n  getClass: function(el, suffix){\n    var prefix = (el.is('input:file')) ? 'fk-file' : 'fk-select';\n    return prefix + suffix;\n  },\n\n  // ?\n  changed: function($el,selectSpan) {\n    var currentSelected = $el.find(':selected'),\n    selectSpanInner = selectSpan.children(':first'),\n    html = currentSelected.html() || $el.val();\n\n    selectSpanInner.html(html);\n\n    if (currentSelected.prop('disabled')) {\n      selectSpan.addClass(formikation.getClass($el, 'fk-disable-option'));\n    } else {\n      selectSpan.removeClass(formikation.getClass($el, 'fk-disable-option'));\n    }\n\n    setTimeout(function() {\n      selectSpan.removeClass(formikation.getClass($el, 'Open'));\n      $(document).off('mouseup.'+formikation.getClass($el, 'Open'));\n    }, 60);\n  },\n\n  // Check if element is disabled\n  is_disabled: function($el, $target) {\n    if ($el.prop('disabled')) {\n      $target.addClass('disabled');\n    } else {\n      $target.removeClass('disabled');\n    }\n  }\n\n};\n\n// JQuery hooks\n(function ($) {\n  $.fn.formikation = function(params) {\n    formikation.dat.els = this; // JQuery elements\n    formikation.init(params);\n  };\n})(jQuery);\n"],"sourceRoot":"/source/"}